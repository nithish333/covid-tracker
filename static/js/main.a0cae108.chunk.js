(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{179:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),s=(a(70),a(16)),l=a.n(s),i=a(39),u=a(56),d=a(57),m=a(63),h=a(62),p=(a(72),a(73),a(58)),v=a.n(p),f=(a(78),function(e){var t=e.value,a=e.heading,n=e.name,o=e.lastUpdate;return r.a.createElement("div",{className:"".concat(n," Card")},r.a.createElement("p",{className:"heading"},a),r.a.createElement("p",{className:"value"},r.a.createElement("b",null,r.a.createElement(v.a,{start:0,end:t,duration:2,separator:","}))),r.a.createElement("p",{className:"lastupdate"},"Last updated:",new Date(o).toDateString()))}),g=function(e){var t=e.confirmed,a=e.recovered,n=e.deaths,o=e.lastUpdate;return r.a.createElement("div",{className:"Cards"},r.a.createElement(f,{value:t,heading:"Total no of confirmed cases",name:"confirmed",lastUpdate:o}),r.a.createElement(f,{value:a,heading:"Total no of recovered cases",name:"recovered",lastUpdate:o}),r.a.createElement(f,{value:n,heading:"Total no of death cases",name:"deaths",lastUpdate:o}))},E=(a(79),a(80),function(e){var t=e.countries,a=e.handleCountryChange;return r.a.createElement("select",{className:"Countries",onChange:a},r.a.createElement("option",{value:"Global"},"Global"),t.map((function(e,t){return r.a.createElement("option",{value:e.country,key:t},e.country)})))}),C=function(e){var t=e.countries,a=e.handleCountryChange;return r.a.createElement("div",{className:"SearchBar"},r.a.createElement(E,{countries:t,handleCountryChange:a}))},y=a(183),b=a(184),w=(a(81),a(29)),x=a.n(w),N=a(181),k=a(182),T={cases:{hex:"#cc1034",multiplier:800},recovered:{hex:"#7dd71d",multplier:1200},deaths:{hex:"#fb4443",multiplier:2e3}},D=function(e){var t=e.center,a=e.zoom,n=e.countries,o=e.casesType;return r.a.createElement("div",{className:"Map"},r.a.createElement(y.a,{center:t,zoom:a},r.a.createElement(b.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map((function(e,a){return r.a.createElement(N.a,{center:[e.countryInfo.lat,e.countryInfo.long],fillOpacity:.4,color:T[t].hex,fillColor:T[t].hex,radius:Math.sqrt(e[t])*T[t].multiplier,key:a},r.a.createElement(k.a,null,r.a.createElement("div",{className:"popup-container"},r.a.createElement("div",{className:"popup-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),r.a.createElement("div",{className:"popup-country"},r.a.createElement("b",null,e.country)),r.a.createElement("div",{className:"popup-cases"},"Cases : ",x()(e.cases).format("0,0")),r.a.createElement("div",{className:"popup-recovered"},"Recovered : ",x()(e.recovered).format("0,0")),r.a.createElement("div",{className:"popup-deaths"},"Deaths : ",x()(e.deaths).format("0,0")))))}))}(n,o)))},j=(a(84),a(85),a(12)),U=function(e){var t={labels:["Confirmed","Recovered","Deaths"],datasets:[{label:"Total no of covid cases ",data:[e.confirmed,e.recovered,e.deaths],backgroundColor:["#0a7ea2","#60bea0","#db565d"]}]},a=e.chartType;return"Bar"===a?r.a.createElement(j.a,{data:t,width:70,height:30,options:{}}):"Doughnut"===a?r.a.createElement(j.b,{data:t,width:70,height:30,options:{}}):"Line"===a?r.a.createElement(j.c,{data:t,width:60,height:20,options:{}}):"Polar"===a?r.a.createElement(j.d,{data:t,width:70,height:30,options:{}}):"Radar"===a?r.a.createElement(j.e,{data:t,width:70,height:30,options:{}}):r.a.createElement("div",{className:"Chart"},a)},B=(a(179),function(e){var t=e.handleChartChange;return r.a.createElement("div",{className:"ChartView"},r.a.createElement("h3",{className:"chartHeading"},"Graph view"),r.a.createElement("select",{className:"charts",onChange:t},r.a.createElement("option",{value:"Bar"},"Select chart type"),r.a.createElement("option",{value:"Bar"},"Bar"),r.a.createElement("option",{value:"Line"},"Line"),r.a.createElement("option",{value:"Doughnut"},"Doughnut"),r.a.createElement("option",{value:"Polar"},"Polar"),r.a.createElement("option",{value:"Radar"},"Radar")))}),O=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleCountryChange=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,r,o,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.target.value),"Global"===t.target.value){e.next=14;break}return e.next=4,fetch("https://disease.sh/v3/covid-19/countries/".concat(t.target.value,"\n        "));case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,o=r.cases,c=r.recovered,s=r.deaths,n.setState({confirmed:o,recovered:c,deaths:s,mapCenter:{lat:r.countryInfo.lat,lng:r.countryInfo.long},mapZoom:5}),e.next=15;break;case 14:n.componentDidMount();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChartChange=function(e){n.setState({chartType:e.target.value})},n.state={confirmed:0,recovered:0,deaths:0,newConfirmed:0,newRecovered:0,newDeaths:0,lastUpdate:"",mapCenter:{lat:34.80476,lng:-40.4796},mapZoom:3,countries:[],chartType:"Bar"},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,r,o,c,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://disease.sh/v3/covid-19/all");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,fetch("https://disease.sh/v3/covid-19/countries");case 9:return n=e.sent,e.next=12,n.json();case 12:r=e.sent,o=a.cases,c=a.recovered,s=a.deaths,i=new Date,this.setState({confirmed:o,recovered:c,deaths:s,lastUpdate:i,mapCenter:{lat:34.80476,lng:-40.4796},mapZoom:3,countries:r}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.confirmed,n=t.recovered,o=t.deaths,c=t.lastUpdate,s=t.countries,l=t.chartType;return r.a.createElement("div",{className:"App"},r.a.createElement("h2",{className:"Heading"},"covid-19 tracker"),r.a.createElement(C,{handleCountryChange:function(t){return e.handleCountryChange(t)},countries:s}),r.a.createElement(g,{confirmed:a,recovered:n,deaths:o,lastUpdate:c}),r.a.createElement(D,{center:this.state.mapCenter,zoom:this.state.mapZoom,countries:s}),r.a.createElement("p",{className:"more"},"(Click on the circles to know more about the country.)"),r.a.createElement(B,{handleChartChange:function(t){return e.handleChartChange(t)}}),r.a.createElement(U,{confirmed:a,recovered:n,deaths:o,chartType:l}),r.a.createElement("p",{className:"footer",style:{textAlign:"center",width:"100%",marginTop:"50px",borderTop:"1px solid #f3f3f3",padding:"20px",fontSize:"25px"}},"Created by ",r.a.createElement("b",null,"Nithish Kommineni")))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,t,a){e.exports=a(180)},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},85:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.a0cae108.chunk.js.map